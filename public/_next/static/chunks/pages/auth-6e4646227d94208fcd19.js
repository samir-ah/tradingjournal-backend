(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[473],{1059:function(e,t,r){"use strict";var n=r(5675),s=r(7561),a=r(5893);t.Z=function(e){var t=e.authTitle,r=e.children;return(0,a.jsx)("div",{className:"w-10/12 min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)(n.default,{loader:s.tQ,src:"/stock.png",alt:"Workflow",width:65,height:65,className:"mx-auto"})}),(0,a.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900 dark:text-gray-200",children:t}),r]})})}},3158:function(e,t,r){"use strict";var n=r(1664),s=r(5893);t.Z=function(e){var t=e.link,r=e.className,a=e.children;return t?(0,s.jsx)(n.default,{href:t,children:(0,s.jsx)("a",{className:"btn-link ".concat(r||""),children:a})}):(0,s.jsx)("a",{className:"btn-link ".concat(r||""),children:a})}},5498:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(1664),s=r(9835),a=r.n(s),c=r(5893),i=function(e){return(0,c.jsx)("div",{className:"".concat(a().loader," ml-5"),children:"Loading..."})};var o=function(e){var t=e.link,r=e.className,s=e.onClick,a=e.children,o=e.isLoading;return t?(0,c.jsx)(n.default,{href:t,children:(0,c.jsx)("a",{className:"btn ".concat(r||""),children:a})}):(0,c.jsxs)("button",{className:"btn ".concat(r||""),onClick:s,disabled:o,children:[a,o?(0,c.jsx)("span",{children:(0,c.jsx)(i,{})}):""]})}},244:function(e,t,r){"use strict";r.d(t,{x:function(){return f}});var n=r(2809),s=r(266),a=r(809),c=r.n(a),i=r(7294),o=r(9669),l=r.n(o),u=r(9742);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f=function(){var e=(0,i.useState)(!1),t=e[0],r=e[1],n=(0,i.useContext)(u.Vo),a=(0,i.useRef)([]),o=(0,i.useCallback)(function(){var e=(0,s.Z)(c().mark((function e(t){var s,i,o,u=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=u.length>1&&void 0!==u[1]?u[1]:{},r(!0),i=new AbortController,a.current.push(i),e.prev=4,e.next=7,l()(t,p(p({},s),{},{headers:p(p({},s.headers),{},{Accept:"application/ld+json"},n.token&&{Authorization:"Bearer ".concat(n.token)}),signal:i.signal,baseURL:"https://tradingjournal.solutionswebelegantes.fr"}));case 7:return o=e.sent,a.current=a.current.filter((function(e){return e!==i})),r(!1),e.abrupt("return",o);case 13:throw e.prev=13,e.t0=e.catch(4),r(!1),e.t0.response;case 17:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(t){return e.apply(this,arguments)}}(),[n.token]);return(0,i.useEffect)((function(){return function(){a.current.forEach((function(e){return e.abort()}))}}),[]),{isLoading:t,axiosRequest:o}}},1649:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return N}});var n=r(2809),s=r(266),a=r(809),c=r.n(a),i=r(7294),o=r(2942),l=r(2283),u=r(9501),d=r(8834),p=r(5498),f=r(3158),h=r(1163),m=r(1059),x=r(244),j=r(9742),v=r(9249),b=r(5893);function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var y=u.Ry({email:u.Z_().email("Entrez un email valide").required("Ce champ est n\xe9cessaire"),password:u.Z_().required("Entrez un mot de passe")}).required();var O=function(){var e,t,r=(0,h.useRouter)(),n=(0,i.useContext)(j.Vo),a=(0,x.x)(),u=a.isLoading,w=a.axiosRequest,O=(0,l.cI)({resolver:(0,d.X)(y)}),N=O.register,k=O.handleSubmit,_=O.formState.errors,P=function(){var e=(0,s.Z)(c().mark((function e(t,s){var a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===s||void 0===s||s.preventDefault(),e.prev=1,e.next=4,E(t.email,t.password);case 4:a=e.sent,n.login(a.data.token),r.replace("/"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),v.Am.error("Identifiants incorrectes");case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,r){return e.apply(this,arguments)}}();function E(e,t){return Z.apply(this,arguments)}function Z(){return(Z=(0,s.Z)(c().mark((function e(t,r){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w("/api/login",{data:{username:t,password:r},method:"post"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,b.jsxs)(m.Z,{authTitle:"Connectez-vous",children:[(0,b.jsxs)("p",{className:"mt-2 text-center text-sm text-gray-600 dark:text-gray-300",children:["Ou"," ",(0,b.jsx)(f.Z,{link:"/auth/register",children:"Cr\xe9ez un compte"})]}),(0,b.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:k(P),children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"email-address",className:"sr-only",children:"Email address"}),(0,b.jsx)("input",g({id:"email-address",type:"email",autoComplete:"email",className:"w-full textinput ".concat(_.email&&"border-red-500"),placeholder:"Email address"},N("email"))),(0,b.jsx)("p",{className:"text-sm text-red-500",children:null===(e=_.email)||void 0===e?void 0:e.message}),(0,b.jsx)("label",{htmlFor:"password",className:"sr-only",children:"Password"}),(0,b.jsx)("input",g({id:"password",type:"password",autoComplete:"current-password",className:"w-full textinput ".concat(_.password&&"border-red-500"),placeholder:"Password"},N("password"))),(0,b.jsx)("p",{className:"text-sm text-red-500",children:null===(t=_.password)||void 0===t?void 0:t.message})]}),(0,b.jsx)("div",{className:"flex justify-center",children:(0,b.jsx)("div",{className:"text-sm",children:(0,b.jsx)(f.Z,{link:"/auth/forget-password",children:"Mot de passe oubli\xe9 ?"})})}),(0,b.jsx)("div",{children:(0,b.jsxs)(p.Z,{className:"group relative w-full btn",isLoading:u,children:[(0,b.jsx)("span",{children:(0,b.jsx)(o.khe,{className:"h-5 w-5 text-green-100 group-hover:text-white mr-2","aria-hidden":"true"})}),"Se connecter"]})})]})]})},N=function(){return(0,b.jsx)(O,{})}},4931:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth",function(){return r(1649)}])},9835:function(e){e.exports={loader:"loading-btn_loader__1Qjxv",load7:"loading-btn_load7__1_JU2"}}},function(e){e.O(0,[170,283,752,774,888,179],(function(){return t=4931,e(e.s=t);var t}));var t=e.O();_N_E=t}]);