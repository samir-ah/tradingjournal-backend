(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[461],{1059:function(e,r,t){"use strict";var n=t(5675),s=t(7561),a=t(5893);r.Z=function(e){var r=e.authTitle,t=e.children;return(0,a.jsx)("div",{className:"w-10/12 min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)(n.default,{loader:s.tQ,src:"/stock.png",alt:"Workflow",width:65,height:65,className:"mx-auto"})}),(0,a.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900 dark:text-gray-200",children:r}),t]})})}},3158:function(e,r,t){"use strict";var n=t(1664),s=t(5893);r.Z=function(e){var r=e.link,t=e.className,a=e.children;return r?(0,s.jsx)(n.default,{href:r,children:(0,s.jsx)("a",{className:"btn-link ".concat(t||""),children:a})}):(0,s.jsx)("a",{className:"btn-link ".concat(t||""),children:a})}},5498:function(e,r,t){"use strict";t.d(r,{Z:function(){return o}});var n=t(1664),s=t(9835),a=t.n(s),c=t(5893),i=function(e){return(0,c.jsx)("div",{className:"".concat(a().loader," ml-5"),children:"Loading..."})};var o=function(e){var r=e.link,t=e.className,s=e.onClick,a=e.children,o=e.isLoading;return r?(0,c.jsx)(n.default,{href:r,children:(0,c.jsx)("a",{className:"btn ".concat(t||""),children:a})}):(0,c.jsxs)("button",{className:"btn ".concat(t||""),onClick:s,disabled:o,children:[a,o?(0,c.jsx)("span",{children:(0,c.jsx)(i,{})}):""]})}},244:function(e,r,t){"use strict";t.d(r,{x:function(){return m}});var n=t(2809),s=t(266),a=t(809),c=t.n(a),i=t(7294),o=t(9669),l=t.n(o),u=t(9742);function d(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function p(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?d(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var m=function(){var e=(0,i.useState)(!1),r=e[0],t=e[1],n=(0,i.useContext)(u.Vo),a=(0,i.useRef)([]),o=(0,i.useCallback)(function(){var e=(0,s.Z)(c().mark((function e(r){var s,i,o,u=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=u.length>1&&void 0!==u[1]?u[1]:{},t(!0),i=new AbortController,a.current.push(i),e.prev=4,e.next=7,l()(r,p(p({},s),{},{headers:p(p({},s.headers),{},{Accept:"application/ld+json"},n.token&&{Authorization:"Bearer ".concat(n.token)}),signal:i.signal,baseURL:"https://tradingjournal.solutionswebelegantes.fr"}));case 7:return o=e.sent,a.current=a.current.filter((function(e){return e!==i})),t(!1),e.abrupt("return",o);case 13:throw e.prev=13,e.t0=e.catch(4),t(!1),e.t0.response;case 17:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(r){return e.apply(this,arguments)}}(),[n.token]);return(0,i.useEffect)((function(){return function(){a.current.forEach((function(e){return e.abort()}))}}),[]),{isLoading:r,axiosRequest:o}}},9245:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return O}});var n=t(2809),s=t(266),a=t(809),c=t.n(a),i=(t(7294),t(2942)),o=t(2283),l=t(9501),u=t(8834),d=t(5498),p=t(3158),m=t(1163),f=t(1059),h=t(244),x=t(9249),b=t(5893);function j(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function v(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?j(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):j(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var w="Ce champ est n\xe9cessaire",g=l.Ry({email:l.Z_().email("Entrez un email valide").required(w),username:l.Z_().min(3,"minimum 3 charact\xe8res").required(w),password:l.Z_().required("Entrez un mot de passe").min(6,"minimum 6 charact\xe8res"),confirm_password:l.Z_().oneOf([l.iH("password"),null],"Les 2 mots de passe doivent correspondre").required(w),rgpd:l.O7().oneOf([!0],"Vous devez accepter nos conditions, en cochant cette case").required()}).required();var y=function(){var e,r,t,n,a,l=(0,m.useRouter)(),j=(0,h.x)(),w=j.isLoading,y=j.axiosRequest,O=(0,o.cI)({resolver:(0,u.X)(g)}),N=O.register,_=O.handleSubmit,k=O.formState.errors,P=function(){var e=(0,s.Z)(c().mark((function e(r,t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===t||void 0===t||t.preventDefault(),e.prev=1,e.next=4,Z(r.email,r.username,r.password,r.confirm_password);case 4:e.sent,x.Am.success("Votre compte a \xe9t\xe9 cr\xe9e"),l.replace("/auth"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),x.Am.error(e.t0.data.detail);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(r,t){return e.apply(this,arguments)}}();function Z(e,r,t,n){return E.apply(this,arguments)}function E(){return(E=(0,s.Z)(c().mark((function e(r,t,n,s){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("/api/register",{data:{email:r,username:t,password:n,confirm_password:s,rgpd:!0},method:"post"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,b.jsxs)(f.Z,{authTitle:"Inscrivez-vous",children:[(0,b.jsxs)("p",{className:"mt-2 text-center text-sm text-gray-600 dark:text-gray-300",children:["Ou ",(0,b.jsx)(p.Z,{link:"/auth",children:"Connectez-vous"})]}),(0,b.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:_(P),children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"email-address",className:"inputlabel",children:"Adresse email"}),(0,b.jsx)("input",v({id:"email-address",type:"email",autoComplete:"email",className:"w-full textinput ".concat(k.email&&"border-red-500"),placeholder:"Email address"},N("email"))),(0,b.jsx)("p",{className:"text-sm text-red-500",children:null===(e=k.email)||void 0===e?void 0:e.message}),(0,b.jsx)("label",{htmlFor:"username",className:"inputlabel",children:"Pseudo"}),(0,b.jsx)("input",v({id:"username",type:"text",className:"w-full textinput ".concat(k.email&&"border-red-500"),placeholder:"Username"},N("username"))),(0,b.jsx)("p",{className:"text-sm text-red-500",children:null===(r=k.username)||void 0===r?void 0:r.message}),(0,b.jsx)("label",{htmlFor:"password",className:"inputlabel",children:"Mot de passe"}),(0,b.jsx)("input",v({id:"password",type:"password",className:"w-full textinput ".concat(k.password&&"border-red-500"),placeholder:"Password"},N("password"))),(0,b.jsx)("p",{className:"text-sm text-red-500",children:null===(t=k.password)||void 0===t?void 0:t.message}),(0,b.jsx)("label",{htmlFor:"confirm_password",className:"inputlabel",children:"Confirmation du mot de passe"}),(0,b.jsx)("input",v({id:"confirm_password",type:"password",className:"w-full textinput ".concat(k.confirm_password&&"border-red-500"),placeholder:"Password"},N("confirm_password"))),(0,b.jsx)("p",{className:"text-sm text-red-500",children:null===(n=k.confirm_password)||void 0===n?void 0:n.message})]}),(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("input",v(v({id:"rgpd"},N("rgpd")),{},{type:"checkbox",className:"dark:bg-gray-500 h-4 w-4  text-green-500 hover:text-green-700 border-gray-300 rounded"})),(0,b.jsx)("label",{htmlFor:"rgpd",className:"ml-2 block text-sm text-gray-900 dark:text-gray-50 ",children:"Vous acceptez notre r\xe9glement et notre politique de confidentialit\xe9"})]}),(0,b.jsx)("p",{className:"text-sm text-red-500",children:null===(a=k.rgpd)||void 0===a?void 0:a.message}),(0,b.jsx)("div",{children:(0,b.jsxs)(d.Z,{className:"group relative w-full btn",isLoading:w,children:[(0,b.jsx)("span",{children:(0,b.jsx)(i.khe,{className:"h-5 w-5 text-green-100 group-hover:text-white mr-2","aria-hidden":"true"})}),"S'inscrire"]})})]})]})},O=function(){return(0,b.jsx)(y,{})}},2364:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/register",function(){return t(9245)}])},9835:function(e){e.exports={loader:"loading-btn_loader__1Qjxv",load7:"loading-btn_load7__1_JU2"}}},function(e){e.O(0,[170,283,752,774,888,179],(function(){return r=2364,e(e.s=r);var r}));var r=e.O();_N_E=r}]);