(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[614],{8939:function(e,t,n){"use strict";n.r(t);var r=n(266),a=n(809),s=n.n(a),u=n(1163),c=n(7294),i=n(3263),o=n(723),d=n(7130),p=n(5852),l=n(9742),h=n(244),f=n(7561),v=n(5893);t.default=(0,l.FR)((function(){var e,t=(0,c.useState)(),n=t[0],a=t[1],x=(0,u.useRouter)(),w=((0,c.useContext)(l.Vo),(0,c.useState)(parseInt((null===(e=x.query.page)||void 0===e?void 0:e.toString())||"1")||1)),y=w[0],_=w[1],g=(0,c.useState)(1),m=g[0],k=g[1],j=(0,h.x)(),b=j.isLoading,E=j.axiosRequest,N=(0,c.useCallback)(function(){var e=(0,r.Z)(s().mark((function e(t){var n,r,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E("/api/trades?isPublished=1&page=".concat(t));case 3:n=e.sent,a(n.data["hydra:member"]),"hydra:view"in n.data&&"hydra:last"in n.data["hydra:view"]?(r=n.data["hydra:view"],u=(0,f.wR)("page",r["hydra:last"]),k(parseInt(u||"1"))):k(1),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),[E]);function Z(e){_(e),x.push("/trades/shared-trades?page=".concat(e))}function P(){return(P=(0,r.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R(t);case 3:e.sent,n&&n.length>1||y-1===0?N(y):y-1>0&&Z(y-1),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function R(e){return C.apply(this,arguments)}function C(){return(C=(0,r.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E("/api/trades/".concat(t),{method:"delete"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,c.useEffect)((function(){N(y)}),[y,N]),(0,v.jsx)("div",{className:"w-full",children:n&&n.length>0||b?(0,v.jsxs)("div",{className:"mx-auto container py-20 px-6",children:[b?(0,v.jsx)(d.Z,{}):n&&(0,v.jsx)(o.Z,{trades:n,onDeleteTrade:function(e){return P.apply(this,arguments)}}),(0,v.jsx)("div",{className:"flex justify-center mt-10",children:(0,v.jsx)(p.Z,{onPageChange:Z,lastPage:m,currentPage:y})})]}):(0,v.jsx)(i.Z,{children:"Aucun trade, veuillez en ajouter"})})}),"ROLE_USER")},6748:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/trades/shared-trades",function(){return n(8939)}])}},function(e){e.O(0,[388,170,451,774,888,179],(function(){return t=6748,e(e.s=t);var t}));var t=e.O();_N_E=t}]);